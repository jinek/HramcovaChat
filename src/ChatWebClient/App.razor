@using System.Collections.ObjectModel
@inject IServiceProvider _serviceProvider

<h1>Chat web client</h1>

<div class="auth">
    <input @bind="@inputValue" class="input-group"/>
    <button class="btn btn-primary" @onclick="TextEntered" disabled="@Sending" >Enter</button>
</div>

@foreach (var message in _messages)
{
    <p>@message</p>
}

@code {
//todo: сделать блок ошибки, а это всё показывать условно
    //todo: делать enter по enter, фокус по дефолту в окно
    private string? inputValue;
    private readonly ObservableCollection<string> _messages = new();


    private void TextEntered()
    {
        TaskCompletionSource.SetResult(inputValue);
        inputValue = string.Empty;
    }

    //todo: https://docs.microsoft.com/en-us/visualstudio/containers/container-launch-settings?view=vs-2019
}